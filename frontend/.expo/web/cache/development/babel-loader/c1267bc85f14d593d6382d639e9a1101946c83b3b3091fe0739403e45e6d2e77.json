{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport React, { useEffect, useState } from \"react\";\nimport { useUser } from \"../../contexts/UserContext\";\nimport MovimientosServices from \"../../services/MovimientosServices\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nvar ProfileScreen = function ProfileScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    userReservas = _useState2[0],\n    setUserReserva = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    searchQuery = _useState4[0],\n    setSearchQuery = _useState4[1];\n  var _useUser = useUser(),\n    userInfo = _useUser.userInfo;\n  console.log(userInfo);\n  useEffect(function () {\n    var fetchReservaUsuario = function () {\n      var _ref2 = _asyncToGenerator(function* () {\n        try {\n          var access_token = userInfo.access_token;\n          var response = yield MovimientosServices.reservasUsuario(access_token, searchQuery);\n          setUserReserva(response);\n          console.log(response);\n        } catch (error) {\n          console.log(\"Error al obtener las reservas del usuario: \", error);\n        }\n      });\n      return function fetchReservaUsuario() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    fetchReservaUsuario();\n  }, [userInfo]);\n  return _jsx(View, {\n    style: styles.container,\n    children: userInfo && _jsxs(_Fragment, {\n      children: [_jsxs(Text, {\n        children: [\"Email: \", userInfo.user.email]\n      }), _jsxs(Text, {\n        children: [\"Rol: \", userInfo.user.role]\n      }), _jsxs(View, {\n        style: styles.buttonContainer,\n        children: [_jsx(TouchableOpacity, {\n          style: styles.button,\n          onPress: function onPress() {\n            navigation.navigate(\"Reservas\");\n          },\n          children: _jsx(Text, {\n            style: styles.buttonText,\n            children: \"Mis reservas\"\n          })\n        }), _jsx(TouchableOpacity, {\n          style: styles.button,\n          onPress: function onPress() {\n            navigation.navigate(\"Prestamos\");\n          },\n          children: _jsx(Text, {\n            style: styles.buttonText,\n            children: \"Mis prestamos\"\n          })\n        })]\n      })]\n    })\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    paddingTop: 20,\n    paddingHorizontal: 16\n  },\n  buttonContainer: {\n    flexDirection: \"column\",\n    marginTop: 10\n  },\n  button: {\n    backgroundColor: \"#3498db\",\n    padding: 15,\n    marginBottom: 10,\n    borderRadius: 5\n  },\n  buttonText: {\n    color: \"#fff\",\n    textAlign: \"center\",\n    fontWeight: \"bold\"\n  }\n});\nexport default ProfileScreen;","map":{"version":3,"names":["React","useEffect","useState","useUser","MovimientosServices","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","ProfileScreen","_ref","navigation","_useState","_useState2","_slicedToArray","userReservas","setUserReserva","_useState3","_useState4","searchQuery","setSearchQuery","_useUser","userInfo","console","log","fetchReservaUsuario","_ref2","_asyncToGenerator","access_token","response","reservasUsuario","error","apply","arguments","View","style","styles","container","children","Text","user","email","role","buttonContainer","TouchableOpacity","button","onPress","navigate","buttonText","StyleSheet","create","flex","paddingTop","paddingHorizontal","flexDirection","marginTop","backgroundColor","padding","marginBottom","borderRadius","color","textAlign","fontWeight"],"sources":["/opt/frontend/app/screens/users/ProfileScreen.js"],"sourcesContent":["import { View, Text, TouchableOpacity, StyleSheet } from \"react-native\";\nimport React, { useEffect, useState } from \"react\";\nimport { useUser } from \"../../contexts/UserContext\";\nimport MovimientosServices from \"../../services/MovimientosServices\";\n\nconst ProfileScreen = ({ navigation }) => {\n  const [userReservas, setUserReserva] = useState([]);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const { userInfo } = useUser();\n  console.log(userInfo);\n  useEffect(() => {\n    const fetchReservaUsuario = async () => {\n      try {\n        const access_token = userInfo.access_token;\n        const response = await MovimientosServices.reservasUsuario(\n          access_token,\n          searchQuery\n        );\n        setUserReserva(response);\n        console.log(response);\n      } catch (error) {\n        console.log(\"Error al obtener las reservas del usuario: \", error);\n      }\n    };\n    fetchReservaUsuario();\n  }, [userInfo]);\n\n  return (\n    <View style={styles.container}>\n      {userInfo && (\n        <>\n        \n          <Text>Email: {userInfo.user.email}</Text>\n          <Text>Rol: {userInfo.user.role}</Text>\n          <View style={styles.buttonContainer}>            \n            <TouchableOpacity\n              style={styles.button}\n              onPress={() => {\n                navigation.navigate(\"Reservas\");\n                // Manejar la acción del botón \"Mis reservas\"\n              }}\n            >\n              <Text style={styles.buttonText}>Mis reservas</Text>\n            </TouchableOpacity>\n\n            <TouchableOpacity\n              style={styles.button}\n              onPress={() => {\n                navigation.navigate(\"Prestamos\");\n                // Manejar la acción del botón \"Mis prestamos\"\n              }}\n            >\n              <Text style={styles.buttonText}>Mis prestamos</Text>\n            </TouchableOpacity>\n          </View>\n        </>\n      )}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    /* justifyContent: \"center\", */\n    paddingTop: 20,\n    paddingHorizontal: 16,\n  },\n  buttonContainer: {\n    flexDirection: \"column\",\n    marginTop: 10,\n  },\n  button: {\n    backgroundColor: \"#3498db\", // Puedes ajustar el color de fondo según tu diseño\n    padding: 15,\n    marginBottom: 10,\n    borderRadius: 5,\n  },\n  buttonText: {\n    color: \"#fff\", // Puedes ajustar el color del texto según tu diseño\n    textAlign: \"center\",\n    fontWeight: \"bold\",\n  },\n});\n\nexport default ProfileScreen;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}