{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport { API_BASE_URL, AUTH_ROUTES } from \"../constants/API\";\nvar AuthServices = {\n  login: function () {\n    var _login = _asyncToGenerator(function* (email, password) {\n      try {\n        var response = yield fetch(`${API_BASE_URL}auth/login/`, {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            email: email,\n            password: password\n          })\n        });\n        var user = yield response.json();\n        return user;\n      } catch (error) {\n        console.error(\"Error al autenticar:\", error);\n        throw error;\n      }\n    });\n    function login(_x, _x2) {\n      return _login.apply(this, arguments);\n    }\n    return login;\n  }(),\n  signup: function () {\n    var _signup = _asyncToGenerator(function* (email, password) {\n      try {\n        var response = yield fetch(`${API_BASE_URL}auth/register/`, {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            email: email,\n            password: password\n          })\n        });\n        var data = yield response.json();\n        return data;\n      } catch (error) {\n        console.error(\"Error al registra el usuario\", error);\n        throw error;\n      }\n    });\n    function signup(_x3, _x4) {\n      return _signup.apply(this, arguments);\n    }\n    return signup;\n  }(),\n  logout: function () {\n    var _logout = _asyncToGenerator(function* (accessToken) {\n      try {\n        var response = yield fetch(`${API_BASE_URL}auth/logout/`, {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${accessToken}`\n          },\n          body: JSON.stringify({\n            accessToken: accessToken\n          })\n        });\n        var data = yield response.json();\n        return data;\n      } catch (error) {\n        console.error(\"Error al cerrar sesion:\", error);\n        throw error;\n      }\n    });\n    function logout(_x5) {\n      return _logout.apply(this, arguments);\n    }\n    return logout;\n  }(),\n  listarUsuarios: function () {\n    var _listarUsuarios = _asyncToGenerator(function* (accessToken, searchQuery) {\n      try {\n        var response = yield fetch(`${API_BASE_URL}${AUTH_ROUTES.USUARIOS}no_admin/`, {\n          method: \"GET\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${accessToken}`\n          }\n        });\n        var data = yield response.json();\n        var buscarUsuario = data.filter(function (user) {\n          return user.email.toLowerCase().includes(searchQuery.toLowerCase());\n        });\n        return buscarUsuario;\n      } catch (error) {\n        console.error(\"Error al obtener los usuarios\");\n        throw error;\n      }\n    });\n    function listarUsuarios(_x6, _x7) {\n      return _listarUsuarios.apply(this, arguments);\n    }\n    return listarUsuarios;\n  }()\n};\nexport default AuthServices;","map":{"version":3,"names":["API_BASE_URL","AUTH_ROUTES","AuthServices","login","_login","_asyncToGenerator","email","password","response","fetch","method","headers","body","JSON","stringify","user","json","error","console","_x","_x2","apply","arguments","signup","_signup","data","_x3","_x4","logout","_logout","accessToken","Authorization","_x5","listarUsuarios","_listarUsuarios","searchQuery","USUARIOS","buscarUsuario","filter","toLowerCase","includes","_x6","_x7"],"sources":["/opt/frontend/app/services/AuthServices.js"],"sourcesContent":["import { API_BASE_URL, AUTH_ROUTES } from \"../constants/API\";\n\nconst AuthServices = {\n  login: async (email, password) => {\n    try {\n      const response = await fetch(`${API_BASE_URL}auth/login/`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ email, password }),\n      });\n      const user = await response.json();\n      return user;\n    } catch (error) {\n      console.error(\"Error al autenticar:\", error);\n      throw error;\n    }\n  },\n  signup: async (email, password) => {\n    try {\n      const response = await fetch(`${API_BASE_URL}auth/register/`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ email, password }),\n      });\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      console.error(\"Error al registra el usuario\", error);\n      throw error;\n    }\n  },\n  logout: async (accessToken) => {\n    try {\n      const response = await fetch(`${API_BASE_URL}auth/logout/`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${accessToken}`,\n        },\n        body: JSON.stringify({ accessToken: accessToken }),\n      });\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      console.error(\"Error al cerrar sesion:\", error);\n      throw error;\n    }\n  },\n  listarUsuarios: async (accessToken, searchQuery) => {\n    try {\n      const response = await fetch(\n        `${API_BASE_URL}${AUTH_ROUTES.USUARIOS}no_admin/`,\n        {\n          method: \"GET\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${accessToken}`,\n          },\n        }\n      );\n\n      const data = await response.json();\n\n      const buscarUsuario = data.filter((user) =>\n        user.email.toLowerCase().includes(searchQuery.toLowerCase())\n      );\n      return buscarUsuario;\n\n      /* console.log(data);\n      return data; */\n    } catch (error) {\n      console.error(\"Error al obtener los usuarios\");\n      throw error;\n    }\n  },\n};\n\nexport default AuthServices;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}