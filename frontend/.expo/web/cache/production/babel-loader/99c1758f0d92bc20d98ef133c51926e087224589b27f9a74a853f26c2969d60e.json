{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import React,{useState,useEffect}from\"react\";import{NavigationContainer}from\"@react-navigation/native\";import{createStackNavigator}from\"@react-navigation/stack\";import{ToastContainer}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import{UserProvider}from\"./contexts/UserContext\";import{Provider as PaperProvider,DefaultTheme}from\"react-native-paper\";import AsyncStorage from\"@react-native-async-storage/async-storage\";import AuthStackScreen from\"./AuthStackScreen\";import AppTabsScreen from\"./AppTabsScreens\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Stack=createStackNavigator();var App=function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoggedIn=_useState2[0],setIsLoggedIn=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),userData=_useState4[0],setUserData=_useState4[1];useEffect(function(){var checkAuthentication=function(){var _ref=_asyncToGenerator(function*(){try{var token=yield AsyncStorage.getItem(\"access_token\");setIsLoggedIn(!!token);}catch(error){console.error(\"error al autenticar\",error);}});return function checkAuthentication(){return _ref.apply(this,arguments);};}();checkAuthentication();},[]);return _jsx(PaperProvider,{theme:DefaultTheme,children:_jsx(UserProvider,{children:_jsxs(NavigationContainer,{children:[_jsx(Stack.Navigator,{headerMode:\"none\",children:isLoggedIn?_jsx(Stack.Screen,{name:\"AppTabs\",children:function children(props){return _jsx(AppTabsScreen,_objectSpread(_objectSpread({},props),{},{setIsLoggedIn:setIsLoggedIn}));}}):_jsx(Stack.Screen,{name:\"AuthStack\",children:function children(props){return _jsx(AuthStackScreen,_objectSpread(_objectSpread({},props),{},{setIsLoggedIn:setIsLoggedIn,setUserData:setUserData}));}})}),_jsx(ToastContainer,{})]})})});};export default App;","map":{"version":3,"names":["React","useState","useEffect","NavigationContainer","createStackNavigator","ToastContainer","UserProvider","Provider","PaperProvider","DefaultTheme","AsyncStorage","AuthStackScreen","AppTabsScreen","jsx","_jsx","jsxs","_jsxs","Stack","App","_useState","_useState2","_slicedToArray","isLoggedIn","setIsLoggedIn","_useState3","_useState4","userData","setUserData","checkAuthentication","_ref","_asyncToGenerator","token","getItem","error","console","apply","arguments","theme","children","Navigator","headerMode","Screen","name","props","_objectSpread"],"sources":["/home/pytufo/Escritorio/Tesis-master/frontend/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport { createStackNavigator } from \"@react-navigation/stack\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport { UserProvider } from \"./contexts/UserContext\";\nimport { Provider as PaperProvider, DefaultTheme } from \"react-native-paper\";\n\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport AuthStackScreen from \"./AuthStackScreen\";\nimport AppTabsScreen from \"./AppTabsScreens\";\n\nconst Stack = createStackNavigator();\nconst App = () => {\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [userData, setUserData] = useState(null);\n  useEffect(() => {\n    const checkAuthentication = async () => {\n      try {\n        const token = await AsyncStorage.getItem(\"access_token\");\n        setIsLoggedIn(!!token);\n      } catch (error) {\n        console.error(\"error al autenticar\", error);\n      }\n    };\n    checkAuthentication();\n  }, []);\n\n  return (\n    <PaperProvider theme={DefaultTheme}>\n      <UserProvider>\n        <NavigationContainer>\n          <Stack.Navigator headerMode=\"none\">\n            {isLoggedIn ? (\n              <Stack.Screen\n                name=\"AppTabs\"\n                children={(props) => (\n                  <AppTabsScreen {...props} setIsLoggedIn={setIsLoggedIn} />\n                )}\n              />\n            ) : (\n              <Stack.Screen\n                name=\"AuthStack\"\n                children={(props) => (\n                  <AuthStackScreen\n                    {...props}\n                    setIsLoggedIn={setIsLoggedIn}\n                    setUserData={setUserData}\n                  />\n                )}\n              />\n            )}\n          </Stack.Navigator>\n          <ToastContainer />\n        </NavigationContainer>\n      </UserProvider>\n    </PaperProvider>\n  );\n};\n\nexport default App;\n"],"mappings":"uzBAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,mBAAmB,KAAQ,0BAA0B,CAC9D,OAASC,oBAAoB,KAAQ,yBAAyB,CAC9D,OAASC,cAAc,KAAQ,gBAAgB,CAC/C,MAAO,uCAAuC,CAE9C,OAASC,YAAY,8BACrB,OAASC,QAAQ,GAAI,CAAAC,aAAa,CAAEC,YAAY,KAAQ,oBAAoB,CAE5E,MAAO,CAAAC,YAAY,KAAM,2CAA2C,CACpE,MAAO,CAAAC,eAAe,yBACtB,MAAO,CAAAC,aAAa,wBAAyB,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE7C,GAAM,CAAAC,KAAK,CAAGb,oBAAoB,CAAC,CAAC,CACpC,GAAM,CAAAc,GAAG,CAAG,QAAN,CAAAA,GAAGA,CAAA,CAAS,CAChB,IAAAC,SAAA,CAAoClB,QAAQ,CAAC,KAAK,CAAC,CAAAmB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA5CG,UAAU,CAAAF,UAAA,IAAEG,aAAa,CAAAH,UAAA,IAChC,IAAAI,UAAA,CAAgCvB,QAAQ,CAAC,IAAI,CAAC,CAAAwB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAvCE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAC5BvB,SAAS,CAAC,UAAM,CACd,GAAM,CAAA0B,mBAAmB,gBAAAC,IAAA,CAAAC,iBAAA,CAAG,WAAY,CACtC,GAAI,CACF,GAAM,CAAAC,KAAK,MAAS,CAAArB,YAAY,CAACsB,OAAO,CAAC,cAAc,CAAC,CACxDT,aAAa,CAAC,CAAC,CAACQ,KAAK,CAAC,CACxB,CAAE,MAAOE,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,qBAAqB,CAAEA,KAAK,CAAC,CAC7C,CACF,CAAC,iBAPK,CAAAL,mBAAmBA,CAAA,SAAAC,IAAA,CAAAM,KAAA,MAAAC,SAAA,OAOxB,CACDR,mBAAmB,CAAC,CAAC,CACvB,CAAC,CAAE,EAAE,CAAC,CAEN,MACE,CAAAd,IAAA,CAACN,aAAa,EAAC6B,KAAK,CAAE5B,YAAa,CAAA6B,QAAA,CACjCxB,IAAA,CAACR,YAAY,EAAAgC,QAAA,CACXtB,KAAA,CAACb,mBAAmB,EAAAmC,QAAA,EAClBxB,IAAA,CAACG,KAAK,CAACsB,SAAS,EAACC,UAAU,CAAC,MAAM,CAAAF,QAAA,CAC/BhB,UAAU,CACTR,IAAA,CAACG,KAAK,CAACwB,MAAM,EACXC,IAAI,CAAC,SAAS,CACdJ,QAAQ,CAAE,SAAAA,SAACK,KAAK,QACd,CAAA7B,IAAA,CAACF,aAAa,CAAAgC,aAAA,CAAAA,aAAA,IAAKD,KAAK,MAAEpB,aAAa,CAAEA,aAAc,EAAE,CAAC,EAC1D,CACH,CAAC,CAEFT,IAAA,CAACG,KAAK,CAACwB,MAAM,EACXC,IAAI,CAAC,WAAW,CAChBJ,QAAQ,CAAE,SAAAA,SAACK,KAAK,QACd,CAAA7B,IAAA,CAACH,eAAe,CAAAiC,aAAA,CAAAA,aAAA,IACVD,KAAK,MACTpB,aAAa,CAAEA,aAAc,CAC7BI,WAAW,CAAEA,WAAY,EAC1B,CAAC,EACF,CACH,CACF,CACc,CAAC,CAClBb,IAAA,CAACT,cAAc,GAAE,CAAC,EACC,CAAC,CACV,CAAC,CACF,CAAC,CAEpB,CAAC,CAED,cAAe,CAAAa,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}