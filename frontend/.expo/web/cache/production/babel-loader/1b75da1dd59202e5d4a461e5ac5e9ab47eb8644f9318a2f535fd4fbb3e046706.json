{"ast":null,"code":"import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useEffect,useState}from\"react\";import Text from\"react-native-web/dist/exports/Text\";import View from\"react-native-web/dist/exports/View\";import FlatList from\"react-native-web/dist/exports/FlatList\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import{tableStyles}from\"../../constants/Colors\";import{useNavigation}from\"@react-navigation/native\";import axios from\"axios\";import MovimientosServices from\"../../services/MovimientosServices\";import{useUser}from\"../../contexts/UserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ReservasScreen=function ReservasScreen(_ref){var navigation=_ref.navigation;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),reserva=_useState2[0],setReserva=_useState2[1];var _useUser=useUser(),userInfo=_useUser.userInfo;useEffect(function(){var fetchReserva=function(){var _ref2=_asyncToGenerator(function*(){try{var access_token=userInfo.access_token;var response=yield MovimientosServices.listarReservas(access_token);setReserva(response);}catch(error){console.log(\"Error al obtener las reservas:\",error);}});return function fetchReserva(){return _ref2.apply(this,arguments);};}();fetchReserva();},[userInfo.access_token]);var handleReservaPress=function handleReservaPress(reservaId){navigation.navigate(\"DetalleReserva\",{reservaId:reservaId});};var renderTableHeader=function renderTableHeader(){return _jsxs(View,{style:tableStyles.tableHeader,children:[_jsx(Text,{style:tableStyles.headerText,children:\"Material\"}),_jsx(Text,{style:tableStyles.headerText,children:\"Usuario\"}),_jsx(Text,{style:tableStyles.headerText,children:\"Fecha finalizacion\"})]});};var renderItem=function renderItem(_ref3){var item=_ref3.item;return _jsx(TouchableOpacity,{onPress:function onPress(){return handleReservaPress(item.id);},children:_jsxs(View,{style:tableStyles.tableRow,children:[_jsx(Text,{style:tableStyles.cell,children:item.material}),_jsx(Text,{style:tableStyles.cell,children:item.owner}),_jsx(Text,{style:tableStyles.cell,children:item.fecha_fin})]})});};return _jsx(ScrollView,{children:_jsxs(View,{children:[renderTableHeader(),_jsx(FlatList,{data:reserva,keyExtractor:function keyExtractor(item){return item.id.toString();},renderItem:renderItem})]})});};export default ReservasScreen;","map":{"version":3,"names":["React","useEffect","useState","Text","View","FlatList","ScrollView","TouchableOpacity","tableStyles","useNavigation","axios","MovimientosServices","useUser","jsx","_jsx","jsxs","_jsxs","ReservasScreen","_ref","navigation","_useState","_useState2","_slicedToArray","reserva","setReserva","_useUser","userInfo","fetchReserva","_ref2","_asyncToGenerator","access_token","response","listarReservas","error","console","log","apply","arguments","handleReservaPress","reservaId","navigate","renderTableHeader","style","tableHeader","children","headerText","renderItem","_ref3","item","onPress","id","tableRow","cell","material","owner","fecha_fin","data","keyExtractor","toString"],"sources":["/home/pytufo/Escritorio/Tesis-master/frontend/screens/movimientos/ReservasScreen.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {\n  Text,\n  View,\n  FlatList,\n  ScrollView,\n  TouchableOpacity,\n} from \"react-native\";\nimport { tableStyles } from \"../../constants/Colors\";\n\nimport { useNavigation } from \"@react-navigation/native\";\nimport axios from \"axios\";\n\nimport MovimientosServices from \"../../services/MovimientosServices\";\nimport { useUser } from \"../../contexts/UserContext\";\n\nconst ReservasScreen = ({ navigation }) => {\n  const [reserva, setReserva] = useState([]);\n  const { userInfo } = useUser();\n  useEffect(() => {\n    const fetchReserva = async () => {\n      try {\n        const access_token = userInfo.access_token;\n        const response = await MovimientosServices.listarReservas(access_token);\n        setReserva(response);\n      } catch (error) {\n        console.log(\"Error al obtener las reservas:\", error);\n      }\n    };\n    fetchReserva();\n  }, [userInfo.access_token]);\n  const handleReservaPress = (reservaId) => {\n    navigation.navigate(\"DetalleReserva\", { reservaId });\n  };\n\n  const renderTableHeader = () => (\n    <View style={tableStyles.tableHeader}>\n      <Text style={tableStyles.headerText}>Material</Text>\n      <Text style={tableStyles.headerText}>Usuario</Text>\n      <Text style={tableStyles.headerText}>Fecha finalizacion</Text>\n    </View>\n  );\n\n  const renderItem = ({ item }) => (\n    <TouchableOpacity onPress={() => handleReservaPress(item.id)}>\n      <View style={tableStyles.tableRow}>\n        <Text style={tableStyles.cell}>{item.material}</Text>\n        <Text style={tableStyles.cell}>{item.owner}</Text>\n        <Text style={tableStyles.cell}>{item.fecha_fin}</Text>\n      </View>\n    </TouchableOpacity>\n  );\n\n  return (\n    <ScrollView>\n      <View>\n        {renderTableHeader()}\n        <FlatList\n          data={reserva}\n          keyExtractor={(item) => item.id.toString()}\n          renderItem={renderItem}\n        />\n      </View>\n    </ScrollView>\n  );\n};\n\nexport default ReservasScreen;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}