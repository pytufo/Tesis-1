{"ast":null,"code":"import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import FlatList from\"react-native-web/dist/exports/FlatList\";import React,{useEffect,useState}from\"react\";import{tableStyles}from\"../../constants/Colors\";import{API_BASE_URL,API_ROUTES}from\"../../constants/API\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PrestamosScreen=function PrestamosScreen(_ref){var navigation=_ref.navigation;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),prestamo=_useState2[0],setPrestamo=_useState2[1];useEffect(function(){var fetchPrestamo=function(){var _ref2=_asyncToGenerator(function*(){try{var response=yield axios.get(`${API_BASE_URL}${API_ROUTES.PRESTAMOS}`);console.log(response);setPrestamo(response.data);}catch(error){console.log(\"Error al obtener los prestamos:\",error);}});return function fetchPrestamo(){return _ref2.apply(this,arguments);};}();fetchPrestamo();},[]);var handlePrestamoPress=function handlePrestamoPress(prestamoId){navigation.navigate(\"DetallePrestamo\",{prestamoId:prestamoId});};var renderTableHeader=function renderTableHeader(){return _jsxs(View,{style:tableStyles.tableHeader,children:[_jsx(Text,{style:tableStyles.headerText,children:\"Ejemplar\"}),_jsx(Text,{style:tableStyles.headerText,children:\"Usuario\"}),_jsx(Text,{style:tableStyles.headerText,children:\"Fecha finalizacion\"})]});};var renderItem=function renderItem(_ref3){var item=_ref3.item;return _jsx(TouchableOpacity,{onPress:function onPress(){return handlePrestamoPress(item.id);},children:_jsxs(View,{style:tableStyles.tableRow,children:[_jsx(Text,{style:tableStyles.cell,children:item.ejemplar}),_jsx(Text,{style:tableStyles.cell,children:item.owner}),_jsx(Text,{style:tableStyles.cell,children:item.fecha_fin})]})});};return _jsx(ScrollView,{children:_jsxs(View,{children:[renderTableHeader(),_jsx(FlatList,{data:prestamo,keyExtractor:function keyExtractor(item){return item.id.toString();},renderItem:renderItem})]})});};export default PrestamosScreen;","map":{"version":3,"names":["React","useEffect","useState","tableStyles","API_BASE_URL","API_ROUTES","axios","jsx","_jsx","jsxs","_jsxs","PrestamosScreen","_ref","navigation","_useState","_useState2","_slicedToArray","prestamo","setPrestamo","fetchPrestamo","_ref2","_asyncToGenerator","response","get","PRESTAMOS","console","log","data","error","apply","arguments","handlePrestamoPress","prestamoId","navigate","renderTableHeader","View","style","tableHeader","children","Text","headerText","renderItem","_ref3","item","TouchableOpacity","onPress","id","tableRow","cell","ejemplar","owner","fecha_fin","ScrollView","FlatList","keyExtractor","toString"],"sources":["/home/pytufo/Escritorio/Tesis-master/frontend/screens/movimientos/PrestamosScreen.js"],"sourcesContent":["import {\n  View,\n  Text,\n  TouchableOpacity,\n  ScrollView,\n  FlatList,\n} from \"react-native\";\nimport React, { useEffect, useState } from \"react\";\nimport { tableStyles } from \"../../constants/Colors\";\n\nimport { API_BASE_URL, API_ROUTES } from \"../../constants/API\";\nimport axios from \"axios\";\n\nconst PrestamosScreen = ({ navigation }) => {\n  const [prestamo, setPrestamo] = useState([]);\n\n  useEffect(() => {\n    const fetchPrestamo = async () => {\n      try {\n        const response = await axios.get(\n          `${API_BASE_URL}${API_ROUTES.PRESTAMOS}`\n        );\n        console.log(response);\n        setPrestamo(response.data);\n      } catch (error) {\n        console.log(\"Error al obtener los prestamos:\", error);\n      }\n    };\n    fetchPrestamo();\n  }, []);\n  const handlePrestamoPress = (prestamoId) => {\n    navigation.navigate(\"DetallePrestamo\", { prestamoId });\n  };\n\n  const renderTableHeader = () => (\n    <View style={tableStyles.tableHeader}>\n      <Text style={tableStyles.headerText}>Ejemplar</Text>\n      <Text style={tableStyles.headerText}>Usuario</Text>\n      <Text style={tableStyles.headerText}>Fecha finalizacion</Text>\n    </View>\n  );\n\n  const renderItem = ({ item }) => (\n    <TouchableOpacity onPress={() => handlePrestamoPress(item.id)}>\n      <View style={tableStyles.tableRow}>\n        <Text style={tableStyles.cell}>{item.ejemplar}</Text>\n        <Text style={tableStyles.cell}>{item.owner}</Text>\n        <Text style={tableStyles.cell}>{item.fecha_fin}</Text>\n      </View>\n    </TouchableOpacity>\n  );\n\n  return (\n    <ScrollView>\n      <View>\n        {renderTableHeader()}\n        <FlatList\n          data={prestamo}\n          keyExtractor={(item) => item.id.toString()}\n          renderItem={renderItem}\n        />\n      </View>\n    </ScrollView>\n  );\n};\n\nexport default PrestamosScreen;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}